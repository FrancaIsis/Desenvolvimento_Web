const resultado = document.getElementById("resultado");

//capturando os botoes

const botoes = document.querySelectorAll(".btnLetra");

//escutando os eventos

botoes.forEach((botao) => {
  // percorre cada botao dentro da lista
  botao.addEventListener("click", () => {
    //cada botao na lista de botoes tera um evento escutador
    //ao click vai executar a fun√ß√£o anonima que chama a fun√ß√£o criarFormulario()
    escolherOpcao(botao.id); // id do botao que esta no html
  });
});

//menu
function escolherOpcao(botaoId) {
  switch (botaoId) {
    case "btnLetraA":
      criarFormulario(1, function(lista){
        const number = lista[0];
        VerificaPar(number);
      });
      
      break;
    case "btnLetraB": //3
      criarFormulario(3, function(lista){
        VerificaNumero(lista);//pega todo mundo da lista
      });
      break;
    case "btnLetraC":
      criarFormulario(1, function(lista){
        const number = lista[0];
        VerificaVelocidade(number);
      });
      break;
    case "btnLetraD":
      criarFormulario(1, function(lista){
        const number = lista[0];
        CalculaSalario(number);
      });
      break;
    case "btnLetraE":
      criarFormulario(1, function(lista){
        const number = lista[0];
        CalculaPassagem(number);
      });
      break;
    case "btnLetraF":
      criarFormulario(1, function(lista){
        const number = lista[0];
        CalculaBissexto(lista);
      });
      break;
    case "btnLetraG":
      criarFormulario(3, function(lista){
        VerificaTriangulo(lista); //3
      });
      break;
    case "btnLetraH":
      criarFormulario(3, function(lista){
        CalculaRaizes(lista); //3
      });
      break;
  }
}


// criando o formulario
function criarFormulario(quantidade, retorno) {
  const formulario = document.getElementById("formulario");
  let entradasHTML = "";
  //estrutura de controle pra pegar os valores digitados
  for (let i = 1; i <= quantidade; i++) {
    entradasHTML+= `<label>Valor ${i}:</label>
      <input type="number" id="numero${i}" placeholder="Digite o n√∫mero ${i}" required><br>`;
  }

  formulario.innerHTML = `
    <form>
      ${entradasHTML}
      <button type="button" id="btnVerificar" class="botao">Enviar</button>
    </form>
  `;
  resultado.textContent = "";

  const btnVerificar = document.getElementById("btnVerificar");
  btnVerificar.addEventListener("click", () => {
    const numeros = [];
    for (let i = 1; i <= quantidade; i++) {
      const valor = document.getElementById(`numero${i}`).value;
      const numero = validarEntrada(valor);
      if (numero === null) return; // para se inv√°lido
      numeros.push(numero);
    }
    retorno(numeros);
  });
}



// FUN√á√ïES

// validar entrada
function validarEntrada(entrada) {
  //const resultado = document.getElementById("resultado");

  if (entrada === null || entrada.trim() === "") {
    resultado.textContent = "Campo n√£o pode ser vazio!";
    return null;
  }
  const num = Number(entrada);
  if (isNaN(num)) {
    resultado.textContent = "Favor digitar um n√∫mero!";
    return null;
  }
  return num;
}
// letra a
// fun√ß√£o para verificar se √© par ou √≠mpar
function VerificaPar(numero) {
  

  // casting do input
  const numero = parseInt(input);

  if (numero % 2 == 0) {
    resultado.textContent = "Numero par.";
  }
  if (numero % 2 != 0) {
    resultado.textContent = "N√∫mero √≠mpar.";
  }
}

// letra b
// fun√ß√£o para verificar se o numero √© maior, menor ou igual
function VerificaNumero(lista) {
  const [primeiro, segundo, terceiro] = lista;
  
  // casting input

  let maior = primeiro;
  let menor = segundo;

  if (segundo > maior) {
    maior = segundo;
  }
  if (terceiro > maior) {
    maior = terceiro;
  }
  if (segundo < menor) {
    menor = segundo;
  }
  if (terceiro < menor) {
    menor = terceiro;
  }

  if (primeiro == segundo && segundo == terceiro) {
    resultado.textContent = "Os n√∫meros informados s√£o iguais";
  } else {
    resultado.innerHTML = `Maior n√∫mero: ${maior}<br>
    Menor n√∫mero: ${menor}`;
  }
}
// letra c
// fun√ß√£o para verificar se o veiculo esta acima da velocidade
function VerificaVelocidade() {
  const input = document.getElementById("numero").value;
  validarEntrada(input);
  // casting input
  const velocidade = parseInt(input);
  if (velocidade < 60) {
    resultado.textContent = `Sua velocidade atual √©: ${velocidade}km/h. Continue dentro do limite de 60 km/h estabelecido.`;
  } else if (velocidade == 60) {
    resultado.textContent = `Sua velocidade atual √©: ${velocidade}km/h. Este √© o limite m√°ximo estabelecido. Cuidado!!`;
  } else {
    resultado.textContent = `Sua velocidade atual √©: ${velocidade}km/h. Voc√™ ultrapassou o limite m√°ximo de 60 km/h. Reduza a velocidade!!`;
  }
}
// letra d
// fun√ß√£o para calcular o sal√°rio
function CalculaSalario() {
  const input = document.getElementById("numero").value;
  validarEntrada(input);
  let aumento, novoSalario;
  // casting
  const salario = parseFloat(input.value);
  if (isNaN(salario) || salario < 0) {
    resultado.textContent = "Informe um valor v√°lido.";
  } else if (salario < 1000) {
    aumento = 0.1;
  } else if (salario > 1500) {
    aumento = 0.05;
  } else {
    aumento = 0;
  }
  novoSalario = salario * aumento + salario;
  resultado.textContent = `O valor do novo sal√°rio √© R$${novoSalario} reais`;
}

// letra e
// fun√ß√£o para calcular o valor da passagem
function CalculaPassagem() {
  const input = document.getElementById("numero").value;
  validarEntrada(input);
  let valorFinal, valorUnitario;
  //casting
  const distancia = parseInt(input.value);
  if (isNaN(distancia) || distancia < 0) {
    resultado.textContent = "Informe um valor v√°lido.";
  } else if (distancia < 200) {
    valorUnitario = 0.7;
  } else if (distancia >= 200) {
    valorUnitario = 0.4;
  }
  valorFinal = distancia * valorUnitario;
  resultado.textContent = `Prezado cliente, o valor da sua passagem para ${distancia} km a serem percorridos √© de R$${valorFinal} reais.`;
}

// letra f
// fun√ß√£o para calcular se o ano √© bissexto
function CalculaBissexto() {
  const input = document.getElementById("numero").value;
  validarEntrada(input);
  //casting
  const ano = parseInt(input.value);
  if (isNaN(ano) || ano < 0) {
    resultado.textContent = "Informe um valor v√°lido.";
  } else if ((ano % 4 == 0 && ano % 100 != 0) || ano % 400 == 0) {
    resultado.textContent = `O ano ${ano} √© bissexto!`;
  } else {
    resultado.textContent = `O ano ${ano} n√£o √© bissexto!`;
  }
}

// letra g
// fun√ß√£o para verificar se 3 segmentos de reta formam um tri√¢ngulo
function VerificaTriangulo() {
  const input1 = document.getElementById("segmento1");
  const input2 = document.getElementById("segmento2");
  const input3 = document.getElementById("segmento3");
  // casting
  const segmento1 = parseFloat(input1.value);
  const segmento2 = parseFloat(input2.value);
  const segmento3 = parseFloat(input3.value);

  //verificando valores invalidos
  if (segmento1 <= 0) {
    resultado.textContent =
      "O valor informado para o primeiro segmento √© inv√°lido. Informe um valor maior que zero.";
  } else if (segmento2 <= 0) {
    resultado.textContent =
      "O valor informado para o segundo segmento √© inv√°lido. Informe um valor maior que zero.";
  } else if (segmento3 <= 0) {
    resultado.textContent =
      "O valor informado para o terceiro segmento √© inv√°lido. Informe um valor maior que zero.";
  } else if (
    segmento1 < segmento2 + segmento3 &&
    segmento2 < segmento1 + segmento3 &&
    segmento3 < segmento2 + segmento1
  ) {
    resultado.textContent = "√â um tri√¢ngulo";
  } else {
    resultado.textContent = "N√£o √© um tri√¢ngulo";
  }
}

// letra h
// fun√ß√£o para calcular ra√≠zes de equa√ß√£o quadr√°tica
function CalculaRaizes() {
  const inputa = document.getElementById("a");
  const inputb = document.getElementById("b");
  const inputc = document.getElementById("c");
  let delta, x1, x2;

  // casting
  const a = parseInt(inputa.value);
  const b = parseInt(inputb.value);
  const c = parseInt(inputc.value);

  if (a != 0) {
    delta = b ** 2 - 4 * a * c;
    if (delta > 0) {
      x1 = (-b + delta ** 0.5) / (2 * a);
      x2 = (-b - delta ** 0.5) / (2 * a);
      resultado.textContent = `
            A ra√≠zes da express√£o ${a}ùë•¬≤${b}ùë•+${c} s√£o: ${x1} e ${x2}.`;
    } else {
      resultado.textContent = "A equa√ß√£o n√£o possui ra√≠zes reais.";
    }
  } else {
    resultado.textContent = "O valor de a n√£o pode ser zero.";
  }
}
